:root { color-scheme: dark; }

/* ------- Page shell ------- */
body{
  margin:0;
  font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
  color:#e7edf3;
  background:#0b1117;
}
.wrap{ max-width:1100px; margin:28px auto; padding:0 16px; }
h1{ font-size:22px; margin:0 0 16px; }
.muted{ opacity:.75; }
.row,.split{ display:grid; grid-template-columns:1fr 1fr; gap:16px; }
.card{
  background:#121720;
  border:1px solid rgba(255,255,255,.12);
  border-radius:12px;
  padding:12px;
}
.head{ display:flex; align-items:center; gap:10px; margin-bottom:12px; }
.tag{
  display:inline-block; background:#15202b;
  border:1px solid rgba(255,255,255,.12);
  padding:2px 8px; border-radius:9999px; font-size:12px;
}
.btn{
  display:inline-block; border:1px solid rgba(255,255,255,.16);
  background:#0f141a; border-radius:10px; padding:8px 12px;
  color:#e7edf3; text-decoration:none;
}
.btn:hover{ background:#141b24; }
.list{ display:grid; gap:8px; }
.item{ display:flex; gap:8px; align-items:start; }
.item a{ color:#81a9ff; text-decoration:none; }
.item a:hover{ text-decoration:underline; }

textarea{
  width:100%; min-height:240px;
  border-radius:10px; border:1px solid rgba(255,255,255,.16);
  background:#0f141a; color:#e7edf3; padding:10px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
}
.bar{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }

/* ------- Preview panel ------- */

/* the preview card itself */
#paraPreview{
  width:100%; max-width:100%;
  min-height:220px;
  padding:14px;
  border-radius:12px;
  background:rgba(255,255,255,.03);
  box-sizing:border-box;       /* ← keep padding inside width */
  overflow:auto;               /* ← never spill out of the card */
}

/* Make anything that might come from the notebook behave inside the panel */
#paraPreview .osf,
#paraPreview .osf-block,
#paraPreview pre,
#paraPreview figure,
#paraPreview table,
#paraPreview blockquote{
  display:block !important;
  width:100% !important;
  max-width:100% !important;
  margin:0 auto 10px !important;
  box-sizing:border-box;
}

/* Text & code: wrap *aggressively* even inside <pre> */
#paraPreview pre,
#paraPreview code,
#paraPreview .osf{
  white-space:pre-wrap;           /* keep linebreaks, allow wrapping */
  word-break:break-word;          /* break long tokens */
  overflow-wrap:anywhere;         /* last resort */
  hyphens:auto;
  line-height:1.6;
}

/* Images/SVG/canvas should scale to panel width */
#paraPreview img,
#paraPreview svg,
#paraPreview canvas{
  max-width:100%;
  height:auto;
  display:block;
  margin:0 auto;
  image-rendering:auto;
}

/* Friendlier figure/table defaults inside the preview */
#paraPreview figcaption{
  text-align:center;
  opacity:.85;
  margin-top:6px;
}
#paraPreview table{ border-collapse:collapse; }
#paraPreview th,#paraPreview td{ padding:4px 6px; }

/* Slightly larger math reads nicer in the side panel */
#paraPreview .MathJax{ font-size:1.05rem; }

/* utility */
.mono{ font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; }

/* active thumb ring */
.thumb.active {
  outline: 2px solid #ffb347;   /* same “warn” accent you use elsewhere */
  outline-offset: 2px;
}

